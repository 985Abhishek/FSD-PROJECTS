<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h2>login info</h2>

    <!-- <form action="" method="get">
        d -->
        <div>
      <label for="username">Username</label>
      <input type="email" id="username" required />
      <label for="password">Password</label><br />
      <input type="password" id="password" required />
      <!-- <button onclick="checkpass()"><a href="quiz game.html">Login</a></button> -->
      <button id = "loginform">login </button>
    </div>
    
    <script>
      document
        .getElementById("username")
        .addEventListener("submit", function (event) {
            const username = document.getElementById("username".value)
            const password= document.getElementById("password".value)
            if (username|| password){
                alert(`you entered ${username} and ${password}`)

            }else ("Please fill out all fields")
            console.log(Id, password);
fetch('http://localhost:3000/api/login',{
    method: 'POST',
    headers:{
        'content-Type': 'application/json'
    },
    body:JSON.stringify({username,password})
})
.then(response =>{
    if (!response.ok){
        throw new Error('Authentication failed');
    }return response.json

    })
    .then(data=>{
      alert('Authentication successfull');
      if (!localStorage.getItem('token')|| localStorage.getItem('token')===undefined){

      }
    });
    else(
        localStorage.setItem("token",data.id);
        localStorage.setItem("name",data.name);
  );
  
    
      .catch(error=>{
      alert('Authentication Failed' ,error);  
    })
    .catch(error =>{
        showMessasge('login successful')

    })
    .catch(error=>{
        showMessage('Authentication failed')
    })

        });
    </script>
  </body>
</html>
